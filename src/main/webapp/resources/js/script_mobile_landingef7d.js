$(document).ready(function(){var assets={loader:'<img class="loading-image" src="/img/loader.gif"></img>',};var handle={ajax:function(cfg){var ajax_object=cfg["ajax_object"],callback=cfg["callback"],self=this,data=cfg["data"];var request=$.ajax(ajax_object);request.success(function(response){callback(response,"success",self,data);});request.fail(function(response){callback(response,"fail",self,data);});},submit_form_callback:function(response,status,self,form){if(response&&response.status&&response.status=="SUCCESS"&&response.msg){form.parent("div").addClass("success").html(response.msg);}else if(response.msg){form.parent("div").addClass("failure").html(response.msg);}else{form.parent("div").html("Sorry, Something went wrong, Please try again.");}},submit_form:function(form){form=$(form);var data=form.serialize(),url=form.attr("action"),type=form.attr("method"),callback=this.submit_form_callback,ajax_object={};form.addClass("hide");form.parent("div").append(assets.loader);ajax_object["url"]=url;ajax_object["data"]=data;ajax_object["type"]=type;this.ajax({"ajax_object":ajax_object,"callback":callback,"data":form});}};$("form.send-me-link").validate({rules:{phone:{required:true,minlength:10,maxlength:10,regexp:/^[7-9][0-9]{9}$/}},messages:{phone:{required:"",minlength:"",maxlength:"",regexp:""}},errorPlacement:function(error,element){},submitHandler:function(form){handle.submit_form(form);},});$("form.send-me-link-windows").validate({rules:{phone:{required:true,minlength:10,maxlength:10,regexp:/^[7-9][0-9]{9}$/}},messages:{phone:{required:"",minlength:"",maxlength:"",regexp:""}},errorPlacement:function(error,element){},submitHandler:function(form){handle.submit_form(form);},});$.validator.addMethod("regexp",function(value,element,regexp){var re=new RegExp(regexp);$.validator.messages.regexp="Custom regexp validation message depending on data.";return this.optional(element)||re.test(value);},$.validator.messages.regexp);});